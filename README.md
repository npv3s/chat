**chat** - простой анонимный чат на вебсокетах на Express.js и MongoDB. Фронтенд написан на React.

[Можно попробовать здесь](https://chat-dot-skopa-dev.appspot.com/)

#### Сообщения по Websocket

`Client -> Server`

- Новое сообщение

```json
{
  "event": "msg",
  "text": "текст сообщения"
}
```

`Server -> Client`

- Все сообщения (присылается каждому кленту сразу после подключения)

```json
{
  "event": "all",
  "messages": [
    {"_id": "ObjectID", "time":  "2021-07-08T07:34:10.701+00:00", "text": "Hello"}
  ]
}
```

- Добавление сообщения (присылается клиенту после нового сообщения)

```json
{
  "event": "added",
  "message": {"_id": "ObjectID", "time":  "2021-07-08T07:34:10.701+00:00", "text": "Hello"}
}
```

- Новое сообщение (рассылается всем клиентам после нового сообщения от другого клиента)

```json
{
  "event": "msg",
  "message": {"_id": "ObjectID", "time":  "2021-07-08T07:34:10.701+00:00", "text": "Hello"}
}
```


